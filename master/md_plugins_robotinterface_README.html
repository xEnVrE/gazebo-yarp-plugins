<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gazebo-yarp-plugins: gazebo_yarp_robotinterface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gazebo-yarp-plugins
   </div>
   <div id="projectbrief">Gazebo Plugins exposing YARP interfaces.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_plugins_robotinterface_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">gazebo_yarp_robotinterface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <code>gazebo_yarp_robotinterface</code> plugin permits to load several <a href="http://www.yarp.it/git-master/note_devices.html">YARP devices</a> that can be attached to YARP devices already opened by other Gazebo-YARP plugins using the same XML format used by the <a href="http://www.yarp.it/git-master/yarprobotinterface.html"><code>yarprobotinterface</code></a> tool and the <a href="https://github.com/robotology/yarp/tree/master/src/libYARP_robotinterface"><code>libYARP_robotinterface</code> C++ library</a>.</p>
<h1><a class="anchor" id="autotoc_md58"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md59"></a>
Add the plugin in the SDF model</h2>
<p>The <code>gazebo_yarp_robotinterface</code> plugin can be used by including in any SDF model: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">model</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;model_name&quot;</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- Insert models, links, joints --&gt;</span></div>
<div class="line">  <span class="comment">&lt;!-- ... --&gt;</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">&lt;!-- Insert other plugins --&gt;</span></div>
<div class="line">  <span class="comment">&lt;!-- ... --&gt;</span></div>
<div class="line">  </div>
<div class="line">  <span class="comment">&lt;!-- Insert gazebo_yarp_robotinterface --&gt;</span></div>
<div class="line">  &lt;<span class="keywordtype">plugin</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;robotinterface&quot;</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;libgazebo_yarp_robotinterface.so&quot;</span>&gt;</div>
<div class="line">    <span class="comment">&lt;!-- This file can be specified with the model:// URI already used in Gazebo, see http://gazebosim.org/tutorials?tut=components&amp;cat=get_started --&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">yarpRobotInterfaceConfigurationFile</span>&gt;<span class="keyword">model:</span>//<span class="keyword">RobotInterfaceConfigurationFile.xml</span>&lt;/<span class="keywordtype">yarpRobotInterfaceConfigurationFile</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">model</span>&gt;</div>
</div><!-- fragment --><p><b>Warning: the <code>gazebo_yarp_robotinterface</code> plugin is only able to be attached to YARP devices that have been already created once the <code>gazebo_yarp_robotinterface</code> plugin has been spawned, so it is a good practice to always include it as last tag in a model.</b></p>
<h2><a class="anchor" id="autotoc_md60"></a>
Example of the robotinterface XML file</h2>
<p>The file specified in <code>yarpRobotInterfaceConfigurationFile</code> is a XML file specified according to the <code>yarprobotinterface</code> format, for example: </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">robot</span> <span class="keyword">PUBLIC</span> <span class="stringliteral">&quot;-//YARP//DTD yarprobotinterface 3.0//EN&quot;</span> <span class="stringliteral">&quot;http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd&quot;</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">robot</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;robot_name&quot;</span> <span class="keyword">prefix</span>=<span class="stringliteral">&quot;robot_prefix&quot;</span>&gt;</div>
<div class="line">  <span class="comment">&lt;!-- YARP devices to spawn in the robotinterface be specified with the devices tag --&gt;</span></div>
<div class="line">  &lt;<span class="keywordtype">devices</span>&gt;</div>
<div class="line">    <span class="comment">&lt;!-- each YARP device is specified with the device tag --&gt;</span></div>
<div class="line">    &lt;<span class="keywordtype">device</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;yarp_device_name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;yarp_device_type&quot;</span>&gt;</div>
<div class="line">      <span class="comment">&lt;!-- specify any parameter to the device with param tags --&gt;</span></div>
<div class="line">      &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;integer_param_example&quot;</span>&gt; 10 &lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;string_param_example&quot;</span>&gt;<span class="keyword">this_is_a_string</span>/<span class="keyword">param</span>&gt;</div>
<div class="line">      <span class="comment">&lt;!-- To specify the existing YARP devices to which the newly spawned device needs to attach --&gt;</span></div>
<div class="line">      &lt;<span class="keywordtype">action</span> <span class="keyword">phase</span>=<span class="stringliteral">&quot;startup&quot;</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;5&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;attach&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">paramlist</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;networks&quot;</span>&gt;</div>
<div class="line">          <span class="comment">&lt;!-- This should match the yarpDeviceName in the .ini file loaded in the Gazebo plugin. --&gt;</span></div>
<div class="line">          <span class="comment">`\Î:hU</span></div>
<div class="line"><span class="comment">               for devices that are created via the robotinterface XML format. --&gt;</span></div>
<div class="line">          &lt;<span class="keywordtype">elem</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;list_key_example&quot;</span>&gt; <span class="keyword">yarp_device_name_of_device_to_which_to_attach</span> &lt;/<span class="keywordtype">elem</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">paramlist</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">action</span>&gt;</div>
<div class="line">      <span class="comment">&lt;!-- If you added an attach action, always specify the detach action during the shutdown phase --&gt;</span></div>
<div class="line">      &lt;<span class="keywordtype">action</span> <span class="keyword">phase</span>=<span class="stringliteral">&quot;shutdown&quot;</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;5&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;detach&quot;</span> /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">device</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">devices</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">robot</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md61"></a>
How to specify existing YARP devices to which to attach</h2>
<p>The main use of the <code>gazebo_yarp_robotinterface</code> plugin is to spawn YARP devices that are <b>attached</b> to other devices that have been already spawned by other Gazebp plugins. For this reason, we need a way to specify to which target devices the devices created by robotinterface needs to be attached. This is achieved by setting the elements in the <code>&lt;paramlist name="networks"&gt;</code> list under the <code>&lt;action phase="startup" level="5" type="attach"&gt;</code> XML element. In this context, we call this "device instance identified" as <b>YARP device instance name</b>, as for devices created by the robotinterface, this is specified by the <code>name</code> attribute of the <code>device</code> XML tag. It is important not to confuse this with the <b>YARP device type name</b>, i.e. the name that identifies the type of plugin that is spawned, i.e. the <code>type</code> attribute of the <code>device</code> tag.</p>
<p>The <code>gazebo_yarp_robotinterface</code> can be attached to any YARP device created by any plugin inside the model, or in any plugin contained in any nested sensor or model.</p>
<p>For historic reason, not all the <code>gazebo-yarp-plugins</code> support specifying the <b>YARP device instance name</b> for the device that they spawn to permit to use them with the <code>gazebo_yarp_robotinterface</code> plugin. If you need to have this functionality in a specific plugin, feel free to open an issue.</p>
<p><b>Warning: as the YARP device instance name is specified without any specific Gazebo model or sensor namespace, it is important to observe, while using the <code>gazebo_yarp_robotinterface</code> plugin, that all the YARP devices contained in the model have a unique YARP device instance name. If this is not the case, the plugin will print a clear error and exit without starting.</b></p>
<p>The plugins that spawn YARP devices in a way that they can be then attached to the yarprobotinterface as specified in the following table, together with the details with which the <b>YARP device instance name</b> can be specified:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Plugin   </th><th class="markdownTableHeadCenter">Details    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>gazebo_yarp_controlboard</code>   </td><td class="markdownTableBodyCenter">This plugin can create multiple YARP devices that expose joint-level motor and control interfaces such as <a href="https://www.yarp.it/git-master/classyarp_1_1dev_1_1IPositionControl.html"><code>yarp::dev::IPositionControl</code></a>, <a href="https://www.yarp.it/git-master/classyarp_1_1dev_1_1ITorqueControl.html"><code>yarp::dev::ITorqueControl</code></a> and <a href="https://www.yarp.it/git-master/classyarp_1_1dev_1_1IEncoders.html"><code>yarp::dev::ITorqueControl</code></a>. For this plugin, the <b>YARP device instance name</b> for each created device is specified with the <code>networks</code> parameter list in the plugin configuration.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>gazebo_yarp_depthcamera</code>   </td><td class="markdownTableBodyCenter">This plugin can create a YARP device that expose a depth-camera interface. For this plugin, the <b>YARP device instance name</b> can be specified by the <code>yarpDeviceName</code> parameter in the plugin configuration.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>gazebo_yarp_lasersensor</code>   </td><td class="markdownTableBodyCenter">This plugin can create a YARP device that expose a laser-seensor interface. For this plugin, the <b>YARP device instance name</b> can be specified by the <code>yarpDeviceName</code> parameter in the plugin configuration.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>gazebo_yarp_doublelaser</code>   </td><td class="markdownTableBodyCenter">This plugin can create a YARP device network wrapper server that expose two existing laser sensors. For this plugin, the <b>YARP device instance name</b> can be specified by the <code>yarpDeviceName</code> parameter in the plugin configuration.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 24 2021 12:33:30 for gazebo-yarp-plugins by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
