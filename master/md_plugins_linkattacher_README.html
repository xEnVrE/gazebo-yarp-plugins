<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gazebo-yarp-plugins: LinkAttacher Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gazebo-yarp-plugins
   </div>
   <div id="projectbrief">Gazebo Plugins exposing YARP interfaces.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_plugins_linkattacher_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">LinkAttacher Plugin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The LinkAttacher is a Gazebo <em>model plugin</em>. It can be used to attach/detach two <em>link</em> of <em>model</em> spawned in Gazebo environment. The attachment is made by adding a <em>joint</em> between the links specified, with a given <em>jointType</em> (available joint types are those in <a href="http://sdformat.org/spec?ver=1.6&amp;elem=joint#joint_type">SDF documentation</a> with the exception of <code>gearbox</code> that is not available). The link of the model we want to attach is the parent link and the link of the robot model (to which this plugin is added) becomes the child link for the newly created joint. So, the new joint is named by the <code>model_link_name</code> suffixed with the phrase *_jointType_joint* in the name e.g, l_hand_fixed_joint.</p>
<p>Additionally, this plugin also provides control over <em>gravity</em> of the models spawned in Gazebo environment. Currently, this plugin is used for coupling the hands of two robots, or those robot model and human model in pHRI experiments. Also, this plugin can be used to attach objects to the robot links.</p>
<h2><a class="anchor" id="autotoc_md56"></a>
Usage</h2>
<p>Create a <code>.ini</code> configuration file defining the rpc port name for communicating with the linkattacher plugin, and defining the desired type of joint (optional: default type is <code>fixed</code>).</p>
<p>e.g. <code>linkattacher.ini</code></p>
<div class="fragment"><div class="line">name /&lt;model-name&gt;/linkattacher/rpc:i</div>
<div class="line">jointType ball</div>
</div><!-- fragment --><p> Now, add the following lines to the sdf model</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">plugin</span> <span class="keyword">name</span>=<span class="stringliteral">&#39;link_attacher&#39;</span> <span class="keyword">filename</span>=<span class="stringliteral">&#39;libgazebo_yarp_linkattacher.so&#39;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">yarpConfigurationFile</span>&gt;<span class="keyword">model:</span>//&lt;<span class="keywordtype">path-to-model-configuration-files</span>&gt;/<span class="keyword">linkattacher.ini</span>&lt;/<span class="keywordtype">yarpConfigurationFile</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">plugin</span>&gt;</div>
</div><!-- fragment --><p>On launching the model in Gazebo, the <em>rpc</em> port will be opened. Connect to this port and type <code>help</code> to know the available commands.</p>
<p>The available commands are:</p><ul>
<li><code>attachUnscoped &lt;parent_model_name&gt; &lt;parent_model_link_name&gt; &lt;child_model_name&gt; &lt;child_model_link_name&gt;</code></li>
<li><code>detachUnscoped &lt;model_name&gt; &lt;link_name&gt;</code></li>
<li><code>enableGravity &lt;model_name&gt; &lt;enable&gt;</code></li>
</ul>
<p>(The <code>link_name</code> can be both the scoped or unscoped name of the link)</p>
<h2><a class="anchor" id="autotoc_md57"></a>
Startup Configuration</h2>
<p>It is possible to apply a set of chosen command at the startup of Gazebo. In order to do so, it is required to add a <code>[STARTUP]</code> group in the <code>.ini</code> file with the desired commands and argouments.</p>
<p>e.g. </p><div class="fragment"><div class="line">name /&lt;model-name&gt;/linkattacher/rpc:i</div>
<div class="line">jointType ball</div>
<div class="line"> </div>
<div class="line">[STARTUP]</div>
<div class="line">attachUnscoped &lt;parent_model_name&gt; &lt;link1&gt; &lt;child_model_name&gt; &lt;link2&gt;</div>
<div class="line">attachUnscoped &lt;parent_model_name&gt; &lt;link3&gt; &lt;child_model_name&gt; &lt;link4&gt;</div>
<div class="line">enableGravity  &lt;model_name&gt; &lt;enable&gt;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 24 2021 12:33:30 for gazebo-yarp-plugins by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
